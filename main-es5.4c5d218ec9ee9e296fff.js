function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(i=(s=c.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(a){r=!0,o=a}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},zUnb:function(e,t,n){"use strict";n.r(t);var i=n("fXoL");n("rB/T");var r,o,s=n("jhN1"),c=n("tk/3"),a=n("tyNb"),l=[{path:"",redirectTo:"/movies",pathMatch:"full"}],u=((o=function e(){_classCallCheck(this,e)}).\u0275mod=i.Eb({type:o}),o.\u0275inj=i.Db({factory:function(e){return new(e||o)},imports:[[a.d.forRoot(l,{enableTracing:!1,initialNavigation:"enabled"})],a.d]}),o),p=((r=function e(){_classCallCheck(this,e),this.title="movies"}).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=i.Ab({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&i.Hb(0,"router-outlet")},directives:[a.e],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background:#0a1014}"]}),r);n("ZWwf");var h,f,b,d,g,y,v,m,C,_,O,k,w,M,P,S=n("ofXK"),x=n("dlKe"),j=((h=function e(){_classCallCheck(this,e)}).\u0275mod=i.Eb({type:h}),h.\u0275inj=i.Db({factory:function(e){return new(e||h)},imports:[[S.c]]}),h),L=n("eIep"),I=n("lJxs"),T=n("mrSG"),V=n("4ZtF"),$=function(e){return e[e.popular=0]="popular",e[e.nowPlaying=1]="nowPlaying",e[e.topRated=2]="topRated",e[e.upcoming=3]="upcoming",e[e.search=4]="search",e}({}),R={loading:!1,ui:{selectedType:$.popular,searchLinkVisible:!0,closeLinkVisible:!1}},A=((M=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,R))}return _inherits(t,e),t}(V.a)).\u0275fac=function(e){return new(e||M)},M.\u0275prov=i.Cb({token:M,factory:M.\u0275fac,providedIn:"root"}),M=Object(T.a)([Object(V.e)({name:"movies"})],M)),K=((w=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).store=e,n}return _inherits(t,e),t}(V.c)).\u0275fac=function(e){return new(e||w)(i.Ob(A))},w.\u0275prov=i.Cb({token:w,factory:w.\u0275fac,providedIn:"root"}),w),Q=((k=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,{page:0,ids:[],loading:!1}))}return _inherits(t,e),t}(V.d)).\u0275fac=function(e){return new(e||k)},k.\u0275prov=i.Cb({token:k,factory:k.\u0275fac,providedIn:"root"}),k=Object(T.a)([Object(V.e)({name:"popular"})],k)),z=((O=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).store=e,n}return _inherits(t,e),t}(V.b)).\u0275fac=function(e){return new(e||O)(i.Ob(Q))},O.\u0275prov=i.Cb({token:O,factory:O.\u0275fac,providedIn:"root"}),O),E=((_=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,{page:0,ids:[],loading:!1}))}return _inherits(t,e),t}(V.d)).\u0275fac=function(e){return new(e||_)},_.\u0275prov=i.Cb({token:_,factory:_.\u0275fac,providedIn:"root"}),_=Object(T.a)([Object(V.e)({name:"now-playing"})],_)),F=((C=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).store=e,n}return _inherits(t,e),t}(V.b)).\u0275fac=function(e){return new(e||C)(i.Ob(E))},C.\u0275prov=i.Cb({token:C,factory:C.\u0275fac,providedIn:"root"}),C),H=((m=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,{ids:[],page:0,loading:!1}))}return _inherits(t,e),t}(V.d)).\u0275fac=function(e){return new(e||m)},m.\u0275prov=i.Cb({token:m,factory:m.\u0275fac,providedIn:"root"}),m=Object(T.a)([Object(V.e)({name:"upcoming"})],m)),D=((v=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).store=e,n}return _inherits(t,e),t}(V.b)).\u0275fac=function(e){return new(e||v)(i.Ob(H))},v.\u0275prov=i.Cb({token:v,factory:v.\u0275fac,providedIn:"root"}),v),B=((y=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,{ids:[],page:0,loading:!1}))}return _inherits(t,e),t}(V.d)).\u0275fac=function(e){return new(e||y)},y.\u0275prov=i.Cb({token:y,factory:y.\u0275fac,providedIn:"root"}),y=Object(T.a)([Object(V.e)({name:"topRated"})],y)),q=((g=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).store=e,n}return _inherits(t,e),t}(V.b)).\u0275fac=function(e){return new(e||g)(i.Ob(B))},g.\u0275prov=i.Cb({token:g,factory:g.\u0275fac,providedIn:"root"}),g),G=((d=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,{page:0,ids:[],loading:!1}))}return _inherits(t,e),t}(V.d)).\u0275fac=function(e){return new(e||d)},d.\u0275prov=i.Cb({token:d,factory:d.\u0275fac,providedIn:"root"}),d=Object(T.a)([Object(V.e)({name:"search-movie",resettable:!0})],d)),N=((b=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).store=e,n}return _inherits(t,e),t}(V.b)).\u0275fac=function(e){return new(e||b)(i.Ob(G))},b.\u0275prov=i.Cb({token:b,factory:b.\u0275fac,providedIn:"root"}),b),W=((f=function(){function e(t,n,i,r,o,s){var c=this;_classCallCheck(this,e),this.moviesQuery=t,this.popularQuery=n,this.nowPlayingQuery=i,this.upcomingQuery=r,this.topRatedQuery=o,this.searchMovieQuery=s,this.selectedType$=this.moviesQuery.select((function(e){return e.ui.selectedType})),this.selectedTypeMovies$=this.selectedType$.pipe(Object(L.a)((function(e){return c.getSelectedQuery(e).select("ids").pipe(Object(L.a)((function(e){return c.moviesQuery.selectMany(e)})))}))),this.pageOfSelectedTypeMovies$=this.selectedType$.pipe(Object(L.a)((function(e){return c.getSelectedQuery(e).select("page")}))),this.hasNeverFetchedSelectedTypeMovies$=this.pageOfSelectedTypeMovies$.pipe(Object(I.a)((function(e){return!e}))),this.anyMoreSelectedTypeMovies$=this.selectedType$.pipe(Object(L.a)((function(e){return c.getSelectedQuery(e).select("hasMore")}))),this.selectedTypeLoading$=this.selectedType$.pipe(Object(L.a)((function(e){return c.getSelectedQuery(e).selectLoading()}))),this.searchLinkVisible$=this.moviesQuery.select((function(e){return e.ui.searchLinkVisible})),this.closeLinkVisible$=this.moviesQuery.select((function(e){return e.ui.closeLinkVisible}))}return _createClass(e,[{key:"isLoading",value:function(e){return this.getSelectedQuery(e).getValue().loading}},{key:"getSelectedQuery",value:function(e){switch(e){case $.popular:return this.popularQuery;case $.nowPlaying:return this.nowPlayingQuery;case $.topRated:return this.topRatedQuery;case $.upcoming:return this.upcomingQuery;case $.search:return this.searchMovieQuery;default:return this.popularQuery}}},{key:"selectedType",get:function(){return this.moviesQuery.getValue().ui.selectedType}},{key:"searchQueryStr",get:function(){return this.searchMovieQuery.getValue().query}}]),e}()).\u0275fac=function(e){return new(e||f)(i.Ob(K),i.Ob(z),i.Ob(F),i.Ob(D),i.Ob(q),i.Ob(N))},f.\u0275prov=i.Cb({token:f,factory:f.\u0275fac,providedIn:"root"}),f),U=["*"],X=((P=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||P)},P.\u0275cmp=i.Ab({type:P,selectors:[["app-toolbar"]],ngContentSelectors:U,decls:2,vars:0,consts:[["src","https://www.themoviedb.org/assets/2/v4/logos/208x226-stacked-green-9484383bd9853615c113f020def5cbe27f6d08a84ff834f41371f223ebad4a3c.png","height","26","alt","icon"]],template:function(e,t){1&e&&(i.ac(),i.Hb(0,"img",0),i.Zb(1))},styles:["[_nghost-%COMP%]{height:54px;display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;background-color:#1f1f1f}"],changeDetection:0}),P),Y=["shared-icon-link",""];function J(e,t){1&e&&(i.Vb(),i.Lb(0,"svg",3),i.Hb(1,"path",4),i.Hb(2,"path",5),i.Kb())}function Z(e,t){1&e&&(i.Vb(),i.Lb(0,"svg",3),i.Hb(1,"path",6),i.Hb(2,"path",5),i.Kb())}function ee(e,t){1&e&&(i.Vb(),i.Lb(0,"svg",3),i.Hb(1,"path",6),i.Hb(2,"path",5),i.Kb())}var te,ne=((te=function e(){_classCallCheck(this,e),this.type="search"}).\u0275fac=function(e){return new(e||te)},te.\u0275cmp=i.Ab({type:te,selectors:[["","shared-icon-link",""]],inputs:{type:"type"},attrs:Y,decls:4,vars:3,consts:[[3,"ngSwitch"],["class","icon","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",4,"ngSwitchCase"],["class","icon","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",4,"ngSwitchDefault"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"icon"],["d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"],["d","M0 0h24v24H0z","fill","none"],["d","M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"]],template:function(e,t){1&e&&(i.Jb(0,0),i.ic(1,J,3,0,"svg",1),i.ic(2,Z,3,0,"svg",1),i.ic(3,ee,3,0,"svg",2),i.Ib()),2&e&&(i.bc("ngSwitch",t.type),i.wb(1),i.bc("ngSwitchCase","close"),i.wb(1),i.bc("ngSwitchCase","search"))},directives:[S.m,S.n,S.o],styles:["[_nghost-%COMP%] {\n        display: inline-block;\n        width: 24px;\n        height: 24px;\n      }\n\n      .icon[_ngcontent-%COMP%] {\n        fill: #fff;\n      }"]}),te);function ie(e,t){1&e&&i.Hb(0,"a",4)}function re(e,t){1&e&&i.Hb(0,"a",5)}var oe,se,ce=((oe=function(){function e(t,n){_classCallCheck(this,e),this.titleService=t,this.query=n,this.searchLinkVisible$=this.query.searchLinkVisible$,this.closeLinkVisible$=this.query.closeLinkVisible$}return _createClass(e,[{key:"ngOnInit",value:function(){this.titleService.setTitle("movies")}}]),e}()).\u0275fac=function(e){return new(e||oe)(i.Gb(s.c),i.Gb(W))},oe.\u0275cmp=i.Ab({type:oe,selectors:[["app-movies-page"]],decls:7,vars:6,consts:[[1,"page-toolbar"],[1,"page-spacer"],["shared-icon-link","","type","search","routerLink","/movies/search",4,"ngIf"],["shared-icon-link","","type","close","routerLink","../movies",4,"ngIf"],["shared-icon-link","","type","search","routerLink","/movies/search"],["shared-icon-link","","type","close","routerLink","../movies"]],template:function(e,t){1&e&&(i.Lb(0,"app-toolbar",0),i.Hb(1,"span",1),i.ic(2,ie,1,0,"a",2),i.Xb(3,"async"),i.ic(4,re,1,0,"a",3),i.Xb(5,"async"),i.Kb(),i.Hb(6,"router-outlet")),2&e&&(i.wb(2),i.bc("ngIf",i.Yb(3,2,t.searchLinkVisible$)),i.wb(2),i.bc("ngIf",i.Yb(5,4,t.closeLinkVisible$)))},directives:[X,S.l,a.e,a.c,ne],pipes:[S.b],styles:["[_nghost-%COMP%] {\n        display: block;\n        margin-top: 54px;\n      }\n\n      .page-toolbar[_ngcontent-%COMP%] {\n        position: fixed;\n        top: 0;\n      }\n\n      .page-spacer[_ngcontent-%COMP%] {\n        flex: 1 1 auto;\n      }"]}),oe),ae=n("IzEk"),le=n("wO+i"),ue=n("itXk"),pe=n("EY2u"),he=n("LRne"),fe=n("pLZG"),be=n("vkgz"),de=n("nYR2"),ge=((se=function(){function e(t,n,i,r,o,c,a,l,u,p){var h;_classCallCheck(this,e),this.httpClient=t,this.moviesStore=n,this.popularStore=i,this.nowPlayingStore=r,this.topRatedStore=o,this.upcomingStore=c,this.searchMovieStore=a,this.mediatorQuery=l,this.platformId=u,this.transferState=p,this.API_URL=(_defineProperty(h={},$.popular,"/movie/popular"),_defineProperty(h,$.nowPlaying,"/movie/now_playing"),_defineProperty(h,$.topRated,"/movie/top_rated"),_defineProperty(h,$.upcoming,"/movie/upcoming"),_defineProperty(h,$.search,"/search/movie"),h),this.ApiResponseKey=Object(s.e)("first-page-data")}return _createClass(e,[{key:"fetchFirstPage",value:function(){var e=this;return this.mediatorQuery.hasNeverFetchedSelectedTypeMovies$.pipe(Object(ae.a)(1),Object(fe.a)((function(e){return e})),Object(L.a)((function(){return e.mediatorQuery.selectedType$})),Object(ae.a)(1),Object(L.a)((function(t){return e.fetchMovies(t)}))).subscribe()}},{key:"fetchNextPage",value:function(){var e=this;return Object(ue.a)([this.mediatorQuery.selectedType$,this.mediatorQuery.anyMoreSelectedTypeMovies$,this.mediatorQuery.pageOfSelectedTypeMovies$]).pipe(Object(ae.a)(1),Object(fe.a)((function(e){var t=_slicedToArray(e,3),n=(t[0],t[1]);return t[2],!!n})),Object(L.a)((function(t){var n=_slicedToArray(t,3),i=n[0],r=(n[1],n[2]);return e.fetchMovies(i,(r||0)+1)}))).subscribe()}},{key:"searchMovies",value:function(e){return this.searchMovieStore.reset(),this.searchMovieStore.update({query:e}),this.fetchMovies($.search)}},{key:"setSelectedMovieType",value:function(e){this.moviesStore.update((function(t){return{ui:Object.assign(Object.assign({},t.ui),{selectedType:e})}}))}},{key:"toggleSearchLink",value:function(e){this.moviesStore.update("boolean"!=typeof e?function(e){return{ui:Object.assign(Object.assign({},e.ui),{searchLinkVisible:!e.ui.searchLinkVisible})}}:function(t){return{ui:Object.assign(Object.assign({},t.ui),{searchLinkVisible:e})}})}},{key:"toggleCloseLink",value:function(e){this.moviesStore.update("boolean"!=typeof e?function(e){return{ui:Object.assign(Object.assign({},e.ui),{closeLinkVisible:!e.ui.closeLinkVisible})}}:function(t){return{ui:Object.assign(Object.assign({},t.ui),{closeLinkVisible:e})}})}},{key:"clearSearchResults",value:function(){this.searchMovieStore.reset()}},{key:"fetchMovies",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$.popular,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.mediatorQuery.isLoading(t)?pe.a:(this.getSelectedStore(t).setLoading(!0),this.getMovies(t,n).pipe(Object(be.a)((function(n){return e.fillStoreWithData(t,n)})),Object(de.a)((function(){return e.getSelectedStore(t).setLoading(!1)}))))}},{key:"fillStoreWithData",value:function(e,t){null!=t.results&&(this.moviesStore.add(t.results),this.getSelectedStore(e).update((function(e){return null==t.page||null==t.results||null==t.total_pages?e:{ids:[].concat(_toConsumableArray(e.ids),_toConsumableArray(t.results.map((function(e){return e.id})))),page:t.page,totalPages:t.total_pages,totalResults:t.total_results,hasMore:t.page<t.total_pages}})))}},{key:"getMovies",value:function(e,t){var n=this;if(this.transferState.hasKey(this.ApiResponseKey)){var i=this.transferState.get(this.ApiResponseKey,{});return this.transferState.remove(this.ApiResponseKey),Object(he.a)(i)}return this.httpClient.get(this.API_URL[e],{params:e===$.search?{query:this.mediatorQuery.searchQueryStr||"",page:t+""}:{page:""+t}}).pipe(Object(be.a)((function(e){Object(S.t)(n.platformId)&&n.transferState.set(n.ApiResponseKey,e)})))}},{key:"getSelectedStore",value:function(e){switch(e){case $.popular:return this.popularStore;case $.nowPlaying:return this.nowPlayingStore;case $.topRated:return this.topRatedStore;case $.upcoming:return this.upcomingStore;case $.search:return this.searchMovieStore;default:return this.popularStore}}}]),e}()).\u0275fac=function(e){return new(e||se)(i.Ob(c.b),i.Ob(A),i.Ob(Q),i.Ob(E),i.Ob(B),i.Ob(H),i.Ob(G),i.Ob(W),i.Ob(i.B),i.Ob(s.d))},se.\u0275prov=i.Cb({token:se,factory:se.\u0275fac,providedIn:"root"}),Object(T.a)([Object(V.g)()],se.prototype,"searchMovies",null),se),ye=["app-toggle",""];function ve(e,t){if(1&e&&(i.Lb(0,"a",1),i.kc(1),i.Kb()),2&e){var n=t.$implicit;i.bc("routerLink",n.link),i.wb(1),i.mc(" ",n.label,"\n")}}var me,Ce=((me=function(){function e(t){var n;_classCallCheck(this,e),this.query=t,this.items$=this.query.selectedType$.pipe(Object(I.a)(this.buildToggleItems.bind(this))),this.toggleItemMap=(_defineProperty(n={},$.popular,{label:"Popular",link:"/movies/popular"}),_defineProperty(n,$.nowPlaying,{label:"Now Playing",link:"/movies/now-playing"}),_defineProperty(n,$.topRated,{label:"Top Rated",link:"/movies/top-rated"}),_defineProperty(n,$.upcoming,{label:"Upcoming",link:"/movies/upcoming"}),n)}return _createClass(e,[{key:"trackByFn",value:function(e){return e.label}},{key:"buildToggleItems",value:function(e){var t=this;return Object.keys(this.toggleItemMap).map((function(e){return{label:t.toggleItemMap[e].label,link:t.toggleItemMap[e].link}}))}}]),e}()).\u0275fac=function(e){return new(e||me)(i.Gb(W))},me.\u0275cmp=i.Ab({type:me,selectors:[["","app-toggle",""]],attrs:ye,decls:2,vars:4,consts:[["class","item","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf","ngForTrackBy"],["routerLinkActive","active",1,"item",3,"routerLink"]],template:function(e,t){1&e&&(i.ic(0,ve,2,2,"a",0),i.Xb(1,"async")),2&e&&i.bc("ngForOf",i.Yb(1,2,t.items$))("ngForTrackBy",t.trackByFn)},directives:[S.k,a.c,a.b],pipes:[S.b],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}.item[_ngcontent-%COMP%]{color:#fff;font-size:12px;text-decoration:none;display:block;padding:6px 10px;border:1px solid #fff;border-right:none}.item[_ngcontent-%COMP%]:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px}.item[_ngcontent-%COMP%]:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px;border-right:1px solid #fff}.item.active[_ngcontent-%COMP%]{color:#000;background-color:#fff}"],changeDetection:0}),me);function _e(e,t){}var Oe=function(e,t){return{$implicit:e,index:t}};function ke(e,t){if(1&e&&(i.Lb(0,"div",4),i.ic(1,_e,0,0,"ng-template",5),i.Kb()),2&e){var n=t.$implicit,r=t.index,o=i.Wb(2);i.bc("ngClass",o.clss),i.wb(1),i.bc("ngTemplateOutlet",o.listItem)("ngTemplateOutletContext",i.cc(3,Oe,n,r))}}function we(e,t){if(1&e&&(i.Jb(0),i.ic(1,ke,2,6,"div",3),i.Ib()),2&e){var n=i.Wb();i.wb(1),i.bc("ngForOf",n.list)("ngForTrackBy",n.trackByFn)}}function Me(e,t){if(1&e&&(i.Lb(0,"div",7),i.Lb(1,"pre"),i.kc(2),i.Xb(3,"json"),i.Kb(),i.Kb()),2&e){var n=t.$implicit;i.wb(2),i.mc("    ",i.Yb(3,1,n),"\n  ")}}function Pe(e,t){if(1&e&&i.ic(0,Me,4,3,"div",6),2&e){var n=i.Wb();i.bc("ngForOf",n.list)("ngForTrackBy",n.trackByFn)}}var Se,xe,je=((Se=function(){function e(){_classCallCheck(this,e),this.column=2,this.scrolled=new i.n}return _createClass(e,[{key:"ngOnInit",value:function(){this.clss=_defineProperty({item:!0},"column-".concat(this.column),!0)}},{key:"trackByFn",value:function(e){return e.id}}]),e}()).\u0275fac=function(e){return new(e||Se)},Se.\u0275cmp=i.Ab({type:Se,selectors:[["app-list"]],inputs:{listItem:"listItem",list:"list",anyMore:"anyMore",column:"column"},outputs:{scrolled:"scrolled"},decls:4,vars:4,consts:[["infiniteScroll","",1,"list",3,"infiniteScrollDistance","infiniteScrollDisabled","scrolled"],[4,"ngIf","ngIfElse"],["defualt",""],[3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","default-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"default-item"]],template:function(e,t){if(1&e&&(i.Lb(0,"div",0),i.Sb("scrolled",(function(e){return t.scrolled.next()})),i.ic(1,we,2,2,"ng-container",1),i.ic(2,Pe,1,2,"ng-template",null,2,i.jc),i.Kb()),2&e){var n=i.ec(3);i.bc("infiniteScrollDistance",1)("infiniteScrollDisabled",!t.anyMore),i.wb(1),i.bc("ngIf",t.listItem)("ngIfElse",n)}},directives:[x.a,S.l,S.k,S.j,S.p],pipes:[S.f],styles:["[_nghost-%COMP%]{display:block;padding:8px}.list[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.default-item[_ngcontent-%COMP%]{padding:8px 16px;margin-bottom:8px;background:#fff}.default-item[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{overflow:scroll}.item[_ngcontent-%COMP%]{box-sizing:border-box;padding:8px}.item.column-1[_ngcontent-%COMP%]{width:100%}.item.column-2[_ngcontent-%COMP%]{width:50%}.item.column-3[_ngcontent-%COMP%]{width:33.3333%}"],changeDetection:0}),Se),Le=new i.q("tmdb.config"),Ie={apiEndPoint:"https://api.themoviedb.org/3",imageBaseUrl:"https://image.tmdb.org/t/p/",backdropSize:"w780",logoSize:"w300",posterSize:"w300",profileSize:"w185",stillSize:"w300",apiKey:"1329f6fe0ea9aee966eade5d2d5da1d4"},Te=((xe=function(){function e(t){_classCallCheck(this,e),this.tmdbConfig=t}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"posterPath",get:function(){return this.movie?this.tmdbConfig.imageBaseUrl+this.tmdbConfig.posterSize+this.movie.poster_path:""}}]),e}()).\u0275fac=function(e){return new(e||xe)(i.Gb(Le))},xe.\u0275cmp=i.Ab({type:xe,selectors:[["app-card"]],inputs:{movie:"movie"},decls:5,vars:5,consts:[[1,"rate"],[1,"post"],[1,"title"]],template:function(e,t){1&e&&(i.Lb(0,"div",0),i.kc(1),i.Kb(),i.Hb(2,"img",1),i.Lb(3,"p",2),i.kc(4),i.Kb()),2&e&&(i.yb("high",(null==t.movie?null:t.movie.vote_average)>7),i.wb(1),i.mc(" ",null==t.movie?null:t.movie.vote_average,"\n"),i.wb(1),i.xb("src",t.posterPath,i.gc),i.wb(2),i.lc(null==t.movie?null:t.movie.title))},styles:["[_nghost-%COMP%]{position:relative}.post[_ngcontent-%COMP%], [_nghost-%COMP%]{display:block}.post[_ngcontent-%COMP%]{width:100%;border-radius:2px}.title[_ngcontent-%COMP%]{font-size:14px}.rate[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{color:#fff;text-align:center}.rate[_ngcontent-%COMP%]{font-size:12px;width:32px;height:18px;line-height:18px;top:4px;left:-4px;position:absolute;background-color:#aaa;border-radius:2px}.rate.high[_ngcontent-%COMP%]{background-color:#3bb33b}"],changeDetection:0}),xe);function Ve(e,t){1&e&&i.Hb(0,"app-card",3),2&e&&i.bc("movie",t.$implicit)}var $e,Re,Ae,Ke,Qe=(($e=function(){function e(t,n,i){_classCallCheck(this,e),this.route=t,this.query=n,this.service=i,this.list$=this.query.selectedTypeMovies$,this.anyMore$=this.query.anyMoreSelectedTypeMovies$}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.data.pipe(Object(ae.a)(1),Object(le.a)("type")).subscribe((function(t){e.service.setSelectedMovieType(t),e.service.fetchFirstPage()}))}},{key:"handleScroll",value:function(){this.service.fetchNextPage()}}]),e}()).\u0275fac=function(e){return new(e||$e)(i.Gb(a.a),i.Gb(W),i.Gb(ge))},$e.\u0275cmp=i.Ab({type:$e,selectors:[["app-list-page"]],decls:6,vars:7,consts:[["app-toggle","",1,"page-toggle"],[3,"listItem","list","anyMore","scrolled"],["customItem",""],[3,"movie"]],template:function(e,t){if(1&e&&(i.Hb(0,"nav",0),i.Lb(1,"app-list",1),i.Sb("scrolled",(function(e){return t.handleScroll()})),i.Xb(2,"async"),i.Xb(3,"async"),i.Kb(),i.ic(4,Ve,1,1,"ng-template",null,2,i.jc)),2&e){var n=i.ec(5);i.wb(1),i.bc("listItem",n)("list",i.Yb(2,3,t.list$))("anyMore",i.Yb(3,5,t.anyMore$))}},directives:[Ce,je,Te],pipes:[S.b],styles:["[_nghost-%COMP%] {\n        display: block;\n        padding-top: 16px;\n      }\n      .page-toggle[_ngcontent-%COMP%] {\n        top: 16px;\n        position: -webkit-sticky;\n        position: sticky;\n        z-index: 1;\n      }"]}),$e),ze=n("XNiG"),Ee=n("Kj3r"),Fe=n("/uUt"),He=n("1G5W"),De=((Ke=function e(){_classCallCheck(this,e),this.searchValueChange=new i.n}).\u0275fac=function(e){return new(e||Ke)},Ke.\u0275cmp=i.Ab({type:Ke,selectors:[["app-search"]],inputs:{searchValue:"searchValue"},outputs:{searchValueChange:"searchValueChange"},decls:7,vars:1,consts:[[1,"wrapper"],["width","16","height","16","xmlns","http://www.w3.org/2000/svg"],["fill","none","stroke","currentColor","strokeWidth","2"],["d","M14.5 14.5l-3.72-3.72"],["cx","6.67","cy","6.67","r","5.33"],["type","search","placeholder","Search movies...",1,"input",3,"value","input"],["inputEle",""]],template:function(e,t){if(1&e){var n=i.Mb();i.Lb(0,"label",0),i.Vb(),i.Lb(1,"svg",1),i.Lb(2,"g",2),i.Hb(3,"path",3),i.Hb(4,"circle",4),i.Kb(),i.Kb(),i.Ub(),i.Lb(5,"input",5,6),i.Sb("input",(function(e){i.fc(n);var r=i.ec(6);return t.searchValueChange.next(r.value)})),i.Kb(),i.Kb()}2&e&&(i.wb(5),i.bc("value",t.searchValue))},styles:["[_nghost-%COMP%]{color:#7a8c99;display:block;padding:0 16px}.wrapper[_ngcontent-%COMP%]{display:flex;box-sizing:border-box;padding:10px 12px;width:100%;flex-direction:row;align-items:center;background-color:#fff;border-radius:4px}.wrapper[_ngcontent-%COMP%]:focus-within{box-shadow:0 0 0 2px #ff9f1c}.input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;padding-left:4px}"],changeDetection:0}),Ke),Be=((Ae=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Ae)},Ae.\u0275cmp=i.Ab({type:Ae,selectors:[["app-search-guide"]],decls:6,vars:0,consts:[[1,"arrow"],[1,"large"],[1,"small"]],template:function(e,t){1&e&&(i.Lb(0,"h1",0),i.kc(1,"\u261d\ufe0f"),i.Kb(),i.Lb(2,"p",1),i.kc(3,"Search for movies"),i.Kb(),i.Lb(4,"p",2),i.kc(5,"use the search bar above"),i.Kb())},styles:["[_nghost-%COMP%] {\n        color: #fff;\n        text-align: center;\n        display: block;\n      }\n      .arrow[_ngcontent-%COMP%] {\n        margin: 120px auto 40px;\n      }\n      .large[_ngcontent-%COMP%] {\n        font-size: 22px;\n        font-weight: 600;\n        text-align: center;\n      }\n      .small[_ngcontent-%COMP%] {\n        color: rgb(122, 140, 153);\n        font-size: 14px;\n      }"]}),Ae),qe=((Re=function(){function e(t){_classCallCheck(this,e),this.tmdbConfig=t}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"posterPath",get:function(){return this.movie?this.tmdbConfig.imageBaseUrl+this.tmdbConfig.posterSize+this.movie.poster_path:""}}]),e}()).\u0275fac=function(e){return new(e||Re)(i.Gb(Le))},Re.\u0275cmp=i.Ab({type:Re,selectors:[["app-search-card"]],inputs:{movie:"movie"},decls:9,vars:6,consts:[[1,"post"],[1,"detail"],[1,"title"],[1,"vote"],[1,"date"]],template:function(e,t){1&e&&(i.Hb(0,"img",0),i.Lb(1,"div",1),i.Lb(2,"div",2),i.kc(3),i.Kb(),i.Lb(4,"div"),i.Lb(5,"span",3),i.kc(6),i.Kb(),i.Lb(7,"span",4),i.kc(8),i.Kb(),i.Kb(),i.Kb()),2&e&&(i.xb("src",t.posterPath,i.gc),i.wb(3),i.lc(null==t.movie?null:t.movie.title),i.wb(2),i.yb("high",(null==t.movie?null:t.movie.vote_average)>7),i.wb(1),i.mc("",null==t.movie?null:t.movie.vote_average," User Score"),i.wb(2),i.lc(null==t.movie?null:t.movie.release_date))},styles:["[_nghost-%COMP%] {\n        display: flex;\n      }\n      .post[_ngcontent-%COMP%] {\n        display: block;\n        width: 100px;\n        border-radius: 2px;\n      }\n      .detail[_ngcontent-%COMP%] {\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        padding-left: 16px;\n        color: #fff;\n      }\n      .title[_ngcontent-%COMP%] {\n        font-size: 18px;\n        padding-bottom: 8px;\n      }\n      .vote[_ngcontent-%COMP%] {\n        color: #aaa;\n        font-size: 14px;\n        font-style: italic;\n        margin-right: 10px;\n      }\n      .vote.high[_ngcontent-%COMP%] {\n        color: #3bb33b;\n      }\n      .date[_ngcontent-%COMP%] {\n        font-size: 14px;\n      }"]}),Re),Ge=["search"];function Ne(e,t){1&e&&i.Hb(0,"app-search-guide")}function We(e,t){if(1&e){var n=i.Mb();i.Lb(0,"app-list",5),i.Sb("scrolled",(function(e){return i.fc(n),i.Wb().handleScroll()})),i.Xb(1,"async"),i.Xb(2,"async"),i.Kb()}if(2&e){var r=i.Wb(),o=i.ec(5);i.bc("column",1)("list",i.Yb(1,4,r.list$))("listItem",o)("anyMore",i.Yb(2,6,r.anyMore$))}}function Ue(e,t){1&e&&i.Hb(0,"app-search-card",6),2&e&&i.bc("movie",t.$implicit)}var Xe,Ye,Je,Ze,et,tt,nt=[{path:"movies",component:ce,children:[{path:"",redirectTo:"popular",pathMatch:"full"},{path:"popular",component:Qe,data:{type:$.popular}},{path:"now-playing",component:Qe,data:{type:$.nowPlaying}},{path:"top-rated",component:Qe,data:{type:$.topRated}},{path:"upcoming",component:Qe,data:{type:$.upcoming}},{path:"search",component:(Xe=function(){function e(t,n){_classCallCheck(this,e),this.service=t,this.query=n,this.searchValue="",this.anyMore$=this.query.anyMoreSelectedTypeMovies$,this.destory=new ze.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;setTimeout((function(){return e.init()}))}},{key:"ngAfterViewInit",value:function(){var e=this;this.searchComp.searchValueChange.asObservable().pipe(Object(be.a)((function(t){e.isSearchValueEmpty(t)&&e.service.clearSearchResults()})),Object(fe.a)((function(t){return!e.isSearchValueEmpty(t)})),Object(Ee.a)(600),Object(Fe.a)(),Object(L.a)((function(t){return e.service.searchMovies(t)})),Object(He.a)(this.destory)).subscribe()}},{key:"ngOnDestroy",value:function(){this.service.clearSearchResults(),this.handleToolbar(!0),this.destory.next()}},{key:"handleScroll",value:function(){this.service.fetchNextPage()}},{key:"isSearchValueEmpty",value:function(e){return null==(e=e||this.searchValue)||""===e.trim()}},{key:"init",value:function(){this.handleToolbar(!1),this.service.setSelectedMovieType($.search),this.list$=this.query.selectedTypeMovies$}},{key:"handleToolbar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.service.toggleSearchLink(e),this.service.toggleCloseLink(!e)}}]),e}(),Xe.\u0275fac=function(e){return new(e||Xe)(i.Gb(ge),i.Gb(W))},Xe.\u0275cmp=i.Ab({type:Xe,selectors:[["app-search-page"]],viewQuery:function(e,t){var n;1&e&&i.nc(Ge,!0),2&e&&i.dc(n=i.Tb())&&(t.searchComp=n.first)},decls:6,vars:3,consts:[[1,"page-search",3,"searchValue","searchValueChange"],["search",""],[4,"ngIf"],[3,"column","list","listItem","anyMore","scrolled",4,"ngIf"],["customItem",""],[3,"column","list","listItem","anyMore","scrolled"],[3,"movie"]],template:function(e,t){1&e&&(i.Lb(0,"app-search",0,1),i.Sb("searchValueChange",(function(e){return t.searchValue=e})),i.Kb(),i.ic(2,Ne,1,0,"app-search-guide",2),i.ic(3,We,3,8,"app-list",3),i.ic(4,Ue,1,1,"ng-template",null,4,i.jc)),2&e&&(i.bc("searchValue",t.searchValue),i.wb(2),i.bc("ngIf",t.isSearchValueEmpty()),i.wb(1),i.bc("ngIf",!t.isSearchValueEmpty()))},directives:[De,S.l,Be,je,qe],pipes:[S.b],styles:["[_nghost-%COMP%] {\n        display: block;\n        padding-top: 16px;\n      }\n\n      .page-search[_ngcontent-%COMP%] {\n        position: -webkit-sticky;\n        position: sticky;\n        top: 14px;\n        margin-bottom: 16px;\n        z-index: 20;\n      }\n      .page-item[_ngcontent-%COMP%] {\n        width: 100;\n      }"]}),Object(T.a)([Object(V.g)()],Xe.prototype,"init",null),Object(T.a)([Object(V.g)()],Xe.prototype,"handleToolbar",null),Xe)}]}],it=((Je=function e(){_classCallCheck(this,e)}).\u0275mod=i.Eb({type:Je}),Je.\u0275inj=i.Db({factory:function(e){return new(e||Je)},imports:[[a.d.forChild(nt)],a.d]}),Je),rt=((Ye=function e(){_classCallCheck(this,e)}).\u0275mod=i.Eb({type:Ye}),Ye.\u0275inj=i.Db({factory:function(e){return new(e||Ye)},imports:[[S.c,it,x.b,j]]}),Ye),ot=[{provide:c.a,useClass:(Ze=function(){function e(t){_classCallCheck(this,e),this.tmdbConfig=t}return _createClass(e,[{key:"intercept",value:function(e,t){return t.handle(e.clone({url:this.tmdbConfig.apiEndPoint+e.url,setParams:{api_key:this.tmdbConfig.apiKey}}))}}]),e}(),Ze.\u0275fac=function(e){return new(e||Ze)(i.Ob(Le))},Ze.\u0275prov=i.Cb({token:Ze,factory:Ze.\u0275fac}),Ze),multi:!0}],st=((tt=function e(t){if(_classCallCheck(this,e),t)throw new Error("ModuleName has already been loaded.\n        Import ModuleName once, only, in the root AppModule.")}).\u0275mod=i.Eb({type:tt}),tt.\u0275inj=i.Db({factory:function(e){return new(e||tt)(i.Ob(tt,12))},providers:[{provide:Le,useValue:Ie},ot],imports:[[S.c]]}),tt),ct=((et=function e(){_classCallCheck(this,e)}).\u0275mod=i.Eb({type:et,bootstrap:[p]}),et.\u0275inj=i.Db({factory:function(e){return new(e||et)},providers:[s.c],imports:[[s.a.withServerTransition({appId:"serverApp"}),s.b,c.c,st,rt,u,[]]]}),et);Object(i.R)(),document.addEventListener("DOMContentLoaded",(function(){s.f().bootstrapModule(ct).catch((function(e){return console.log(e)}))}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0,5]]]);